---
title: "博客文章撰写指南"
description: "一份完整的指南，教你如何在这个 AstroPaper 博客中添加和发布文章，包括 YAML 配置、正文撰写和资源管理。"
pubDatetime: 2025-10-06T14:30:00+08:00
tags:
  - tutorial
  - blog
  - guide
featured: true
draft: true
slug: how-to-write-post
---

欢迎来到博客文章撰写指南！本文将带你了解如何在这个基于 AstroPaper 的博客框架中创建、编写和发布文章。

## 📂 文章存放位置

所有博客文章应该放在 `src/data/blog/年份/` 目录下。例如：

```
src/data/blog/
  ├── 2023/
  ├── 2024/
  └── 2025/
      ├── alphaTab.mdx
      ├── believe-build.mdx
      └── your-new-article.mdx  ← 你的新文章
```

支持的文件格式：
- `.md` - 标准 Markdown 文件
- `.mdx` - 支持 React 组件的 MDX 文件（推荐）

## 🎯 最简文章模板

创建一篇文章，**只需要 3 个必填字段**：

```yaml
---
title: "文章标题"
description: "文章描述，会显示在卡片和 SEO 中"
pubDatetime: 2025-10-06T10:00:00+08:00
---

## 你的正文内容

在这里开始写作...
```

就这么简单！保存后运行 `pnpm dev` 就能在本地看到你的文章了。

## 📋 完整 Schema 参考

想要更多控制？这里是所有可用的字段：

```yaml
---
# ===== 必需字段 =====
title: "文章标题"
description: "文章简短描述（建议 50-160 字符）"
pubDatetime: 2025-10-06T10:00:00+08:00

# ===== URL 和标识 =====
slug: "custom-url-slug"              # 自定义 URL，不填则根据文件名生成
author: "Jay Bridge"                  # 作者名，默认来自配置文件

# ===== 时间管理 =====
modDatetime: 2025-10-07T15:30:00+08:00  # 最后修改时间（可选）
timezone: "Asia/Shanghai"             # 时区，默认为上海

# ===== 发布控制 =====
draft: false                          # true = 草稿，不会发布
featured: true                        # true = 在首页突出显示

# ===== 分类和标签 =====
tags:                                 # 标签数组
  - tutorial
  - tech
  - life

# ===== 图片和链接 =====
cover: "@/assets/images/2025/cover.jpg"           # 封面图片
ogImage: "@/assets/images/2025/og-image.jpg"      # Open Graph 图片
canonicalURL: "https://example.com/original"       # 原始链接（转载时使用）

# ===== 其他 =====
hideEditPost: false                   # 隐藏"编辑页面"按钮
---
```

### 字段说明

| 字段 | 必需 | 说明 |
|------|------|------|
| `title` | ✅ | 文章标题，显示在页面顶部 |
| `description` | ✅ | 文章摘要，用于 SEO 和卡片预览 |
| `pubDatetime` | ✅ | 发布时间，格式为 ISO 8601 |
| `slug` | ❌ | 自定义 URL，默认使用文件名 |
| `author` | ❌ | 作者，默认为 "Jay Bridge" |
| `modDatetime` | ❌ | 修改时间，会在文章顶部显示 |
| `draft` | ❌ | 草稿状态，`true` 则不会发布 |
| `featured` | ❌ | 特色文章，会在首页突出显示 |
| `tags` | ❌ | 标签数组，默认为 `["others"]` |
| `cover` | ❌ | 封面图片路径 |
| `ogImage` | ❌ | 社交分享图片 |
| `canonicalURL` | ❌ | 规范链接，用于 SEO |
| `hideEditPost` | ❌ | 隐藏编辑按钮 |
| `timezone` | ❌ | 时区设置 |

## ✍️ 正文撰写

### 基础 Markdown

```markdown
## 这是二级标题

这是段落文本，支持 **粗体**、*斜体*、~~删除线~~、`行内代码`。

### 这是三级标题

> 这是引用块
> 可以跨多行

- 无序列表项 1
- 无序列表项 2
  - 嵌套列表项

1. 有序列表项 1
2. 有序列表项 2

[这是链接](https://example.com)
```

### 代码块

使用三个反引号 + 语言标识符：

````markdown
```javascript
function hello(name) {
  console.log(`Hello, ${name}!`);
}
```

```python
def calculate_sum(a, b):
    return a + b
```
````

支持的代码高亮特性：
- 语法高亮（浅色主题：min-light，深色主题：night-owl）
- 行高亮
- Diff 标记
- 文件名显示

示例：

````markdown
```javascript {2,4-6} title="example.js"
function example() {
  const highlighted = "这行会被高亮";
  const normal = "普通代码";
  // [!code ++]
  const added = "新增的代码";
  const removed = "删除的代码"; // [!code --]
}
```
````

### 数学公式

本博客支持 KaTeX 数学公式：

**行内公式**：
```markdown
这是一个行内公式 $E = mc^2$。
```

**块级公式**：
```markdown
$$
\frac{n!}{k!(n-k)!} = \binom{n}{k}
$$
```

### 目录（Table of Contents）

在文章中添加目录，只需要添加一个特殊的标题：

```markdown
## Table of contents
```

框架会自动将其转换为可折叠的目录。

## 🖼️ 资源管理

### 方法 1：图片资源（推荐）

**步骤 1：创建目录**

为你的文章创建专属的图片目录：

```
src/assets/images/
  └── 2025/
      └── my-article/        ← 文章名
          ├── cover.jpg
          ├── diagram.png
          └── screenshot.webp
```

**步骤 2：在文章中引用**

```markdown
![封面图](@/assets/images/2025/my-article/cover.jpg)

![示意图](@/assets/images/2025/my-article/diagram.png)
```

使用 `@/` 别名指向 `src/` 目录，Astro 会自动处理图片优化。

### 方法 2：公共静态资源

适合大文件、下载资源等：

**步骤 1：放入 public 目录**

```
public/
  └── downloads/
      ├── example.pdf
      └── dataset.zip
```

**步骤 2：直接引用**

```markdown
[下载 PDF](/downloads/example.pdf)
[下载数据集](/downloads/dataset.zip)
```

### 方法 3：外部数据文件（高级）

如果需要导入原始数据文件（如 JSON、文本等），可以使用 MDX 的导入功能：

**文件结构：**
```
src/data/scores/
  └── demo-piece.alphatex
```

**在 MDX 中使用：**
```mdx
---
title: "文章标题"
---

import rawScore from "@/data/scores/demo-piece.alphatex?raw";

文件内容：{rawScore}
```

## 🎨 使用 React 组件（MDX）

MDX 允许你在文章中嵌入交互式 React 组件。

**示例：**

```mdx
---
title: "交互式演示"
description: "展示如何使用 React 组件"
pubDatetime: 2025-10-06T10:00:00+08:00
---

import MyButton from "@/components/react/MyButton";
import Chart from "@/components/react/Chart";

## 普通 Markdown 内容

这是普通文本。

## 交互式组件

<MyButton client:only="react" text="点击我" />

<Chart 
  client:only="react" 
  data={[1, 2, 3, 4, 5]} 
/>

> **重要**：使用 `client:only="react"` 确保组件只在客户端渲染
```

## 🚀 发布流程

### 1. 创建文章

```bash
# 在 src/data/blog/2025/ 下创建新文件
touch src/data/blog/2025/my-new-post.mdx
```

### 2. 编写内容

按照上面的模板填写 frontmatter 和正文。

### 3. 本地预览

```bash
pnpm dev
```

浏览器打开 `http://localhost:4321`，查看你的文章。

### 4. 草稿模式

在开发阶段，可以设置 `draft: true`：

```yaml
---
title: "未完成的文章"
draft: true  # 不会在生产构建中出现
---
```

### 5. 构建发布

```bash
# 检查并构建
pnpm build

# 预览构建结果
pnpm preview
```

构建过程会：
- 运行 Astro 类型检查
- 生成静态 HTML
- 创建 Pagefind 搜索索引

### 6. 部署

将 `dist/` 目录部署到你的服务器或托管平台（如 GitHub Pages、Vercel、Netlify）。

## 💡 最佳实践

### 文件命名

- 使用小写字母和连字符：`how-to-write-post.mdx`
- 避免空格和特殊字符
- 使用描述性名称，便于识别

### 图片优化

- 优先使用 WebP 格式（更小的文件大小）
- 为图片添加有意义的 alt 文本
- 大图片应压缩后再使用

### SEO 友好

- `description` 字段应在 50-160 字符之间
- 使用描述性的标题
- 合理使用标签（3-5 个为宜）
- 添加 `ogImage` 提升社交分享效果

### 标签使用

常用标签示例：
- 技术：`tech`, `tutorial`, `coding`
- 生活：`life`, `essay`, `thoughts`
- 学术：`research`, `SUSTecher`, `Course`
- 工具：`tools`, `productivity`
- 音乐：`music`, `alphaTab`

### 日期格式

始终使用 ISO 8601 格式，包含时区：

```yaml
pubDatetime: 2025-10-06T14:30:00+08:00
#            年-月-日T时:分:秒+时区
```

## 📚 参考示例

查看现有文章作为参考：

- **简单文本文章**：`src/data/blog/2025/believe-build.mdx`
- **技术教程**：`src/data/blog/2025/alphaTab.mdx`
- **课程评价**：`src/data/blog/2024/course-review.mdx`
- **探索指南**：`src/data/blog/2024/explore.mdx`

## 🔧 常见问题

### Q: 文章不显示怎么办？

1. 检查 `draft` 是否设置为 `true`
2. 确认文件在 `src/data/blog/` 目录下
3. 确保文件名不以下划线 `_` 开头
4. 检查 YAML frontmatter 格式是否正确

### Q: 图片显示不出来？

1. 确认图片路径是否正确
2. 使用 `@/assets/images/...` 而不是相对路径
3. 检查图片文件是否存在
4. 尝试重新运行 `pnpm dev`

### Q: 时间显示不对？

确保：
1. 使用正确的时区（如 `+08:00`）
2. 日期格式为 ISO 8601
3. 检查 `timezone` 字段设置

### Q: 如何添加代码文件名？

使用 `title` 属性：

````markdown
```javascript title="example.js"
console.log("Hello");
```
````

## 🎉 开始创作吧！

现在你已经掌握了所有必要的知识，开始创作你的第一篇文章吧！

记住：
- ✅ 从最简模板开始
- ✅ 逐步添加需要的功能
- ✅ 参考现有文章
- ✅ 本地预览确认效果
- ✅ 享受写作的乐趣

Happy writing! 📝
